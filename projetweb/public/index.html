<!DOCTYPE html>
<html xmlns:v-on="http://www.w3.org/1999/xhtml">
  <head>

      <link rel="stylesheet" href="stylesheets/css/bootstrap.min.css">
      <link rel="stylesheet" href="stylesheets/stylesheet.css">
      <link rel="stylesheet" href="stylesheets/style.css">
      <script src="https://npmcdn.com/axios/dist/axios.min.js"></script>
      <title>Mes couilles en short</title>
  </head>
  <body>
  <main id="app">
      <navbar
          v-on:accueil="currentPage = 'accueil'"
          v-on:ligue1="currentPage = 'ligue1'"
          v-on:pl="currentPage = 'pl'"
          v-on:bundes="currentPage = 'bundes'"
          v-on:liga="currentPage = 'liga'"
          v-on:register="currentPage = 'register'"
          v-on:change-page="changePage($event)"
          v-bind:mon_user="mon_user"
      >
      </navbar>

      <!--lightbox login -->
      <div id="id01" class="modal-test">
          <span onclick="document.getElementById('id01').style.display='none'"
            class="close" title="Close Modal">&times;</span>
          <!-- Modal Content -->
          <form class="modal-content animate" action="">
              <div class="container">
                  <label for="uname"><b>Pseudonyme</b></label>
                  <input type="text" placeholder="Entrez Pseudonyme" name="uname" required>

                  <label for="psw"><b>Mot de passe</b></label>
                  <input type="password" placeholder="Entrez Mot de passe" name="psw" required>

                  <button type="submit">S'identifier</button>
                  <label>
                      <input type="checkbox" checked="checked" name="remember"> Se souvenir de moi
                  </label>
              </div>

              <div class="container" style="background-color:#f1f1f1">
                  <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Annuler</button>
                  <span class="psw"><a onclick="document.getElementById('id01').style.display='none'" href="#" v-on:click="currentPage = 'register'">Pas encore inscrit(e) ?</a></span>
              </div>
          </form>
      </div>

    <section v-if="currentPage === 'accueil'" id="accueil">
          <accueil></accueil>
	</section>
    <section v-else-if="currentPage === 'ligue1'" id="ligue1">
          <ligue1></ligue1>
	</section>
	<section v-else-if="currentPage === 'pl'" id="pl">
          <pl></pl>
	</section>
	<section v-else-if="currentPage === 'bundes'" id="Bundes">
          <bundes></bundes>
	</section>

    <section v-else-if="currentPage === 'register'" id="register">
          <register></register>
	</section>

    <section v-else-if="currentPage === 'listeDesArticles' || currentPage === 'index'" id="listeDesArticles">
        <div class="form-group">
            <input v-model="search" type="text" class="form-control" placeholder="Search">
        </div>
        <div class="row" v-for="i in Math.ceil(filteredList.length / 3)">
            <article-item
                    v-for="article in filteredList.slice((i - 1) * 3, i * 3)"
                    v-bind:articleitem="article"
                    v-bind:mon_user="mon_user"
                    v-on:event-article="viewArticle(article.index)"
                    v-on:edit-article="editArticle(article.index)"
                    v-on:delete-article="deleteArticle(article)"
                    v-on:logout="logout($event)"
            >
            </article-item>
        </div>
    </section>

    <section v-if="currentPage === 'connexion'" id="connexion">
        <div v-if="error.message!=''" class="alert alert-danger" role="alert">
            <strong>{{ error.message }}</strong>
        </div>

        <div v-if="success.message!=''" class="alert alert-success" role="alert">
            <strong>{{ success.message }}</strong>
        </div>

        <connexion-form
                v-on:connexion="connexion($event)">
        </connexion-form>
    </section>
    <section v-if="currentPage === 'inscription'" id="inscription">
        <div v-if="error.message!=''" class="alert alert-danger" role="alert">
            <strong>{{ error.message }}</strong>
        </div>

        <div v-if="success.message!=''" class="alert alert-success" role="alert">
            <strong>{{ success.message }}</strong>
        </div>
        <inscription-form
                v-on:inscriptionuser="inscriptionuser($event)"
        >
        </inscription-form>
    </section>
  </main>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js"></script>
  <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
  <script src="components/navbar.component.js"></script>
  <script src="components/accueil.component.js"></script>
  <script src="components/other.component.js"></script>
  <script src="components/register.component.js"></script>

  <script src="indexJS.js"></script>
  <script>
        var modal = document.getElementById('id01');

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
  </script>
  </body>
</html>